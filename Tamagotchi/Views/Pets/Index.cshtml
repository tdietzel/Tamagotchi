<!DOCTYPE html>
<html>

<head>
  <title>Your Tamagotchi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <meta charset='utf-8'>
  @* <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.9/signalr.min.js"></script> *@
  @* <script>
  // Define a function to update the values dynamically
  function updateValues() {
  $.ajax({
  url: '/api/getPetValues', // Replace with your server endpoint to get pet values
  method: 'GET',
  success: function (data) {
  // Update HTML with the new values
  $('#fullness').text('Fullness: ' + data.Fullness);
  $('#energy').text('Energy: ' + data.Energy);
  $('#attention').text('Attention: ' + data.Attention);
  }
  });
  }

  // Periodically update the values (e.g., every 5 seconds)
  setInterval(updateValues, 5000);
  </script> *@
</head>

@* <script>

const connection = new signalR.HubConnectionBuilder()
.withUrl("/petHub")
.configureLogging(signalR.LogLevel.Information)
.build();

connection.on("ReceivePetStatus", function (petStatus) {
// Update your pet's status on the page
console.log(petStatus);
// You'll replace console.log with code to update the page
});

connection.start().catch(function (err) {
return console.error(err.toString());
});
</script> *@



<body>
  @using Tamagotchis.Models

  @if (Model.Count == 0)
  {
    <p>There are no pets to display. Please create a pet!</p>
  }
  else
  {
    @foreach (Pet pet in Model)
    {
      <h1>Name: @pet.Name</h1>
      <ul>
        <li>Fullness: @pet.Fullness</li>
        <li>Energy: @pet.Energy</li>
        <li>Attention: @pet.Attention</li>
        <a href="pets/@pet.Id">View Pet Details</a>
      </ul>
    }
    <a href="/">Make a new pet!</a>
  }
</body>

</html>