<!DOCTYPE html>
<html>

<head>
  <title>Your Tamagotchi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <meta charset='utf-8'>
  <link rel="stylesheet" type="text/css" href="~/css/petsIndex.css" />
</head>
<body>
  @using Tamagotchis.Models

    @if (Model.Count == 0)
    {
      <p id="no-pets">There are no pets to display. Please create a pet!</p>
      <a href="/">Make a new pet!</a>
    }
    else
    {
    <div class="container">
      @foreach (Pet pet in Model)
      {
        <div class="pet">
          @if (pet.Alive == true)
          {
            <form action="/pets/action" method="post">
              <input type="hidden" name="petId" value="@pet.Id" />
              <input type="hidden" name="action" value="delete" />
              <button id="abandon" type="submit">Abandon Pet</button>
            </form>
            <h1>@pet.Name</h1>

            @if (pet.IsHatched == false)
            {
              <img src="~/img/egg.png" />
              <h3>Hatching...</h3>
            } else if (pet.IsSleeping == true)
            {
              <img src="~/img/sleep.png"/>
              <p>sleeping... zZz</p>
              <p>Fullness: @pet.Fullness</p>
              <p>Energy: @pet.Energy</p>
              <p>Attention: @pet.Attention</p>
              <p>Age: @pet.Age yrs</p>
              <p>Weight: @pet.Weight lbs</p>
              <form action="pets/@pet.Id" method="get">
                <button type="submit">View Pet Details</button>
              </form>
            } else
            {
              <img src="~/img/dog.png"/>
              <p>Fullness: @pet.Fullness</p>
              <p>Energy: @pet.Energy</p>
              <p>Attention: @pet.Attention</p>
              <p>Age: @pet.Age yrs</p>
              <p>Weight: @pet.Weight lbs</p>
              <form action="pets/@pet.Id" method="get">
                <button type="submit">View Pet Details</button>
              </form>
            }
          }
          else
          {
            <h1>@pet.Name</h1>
            <img src="~/img/deadDog.png"/>
            <h4>@pet.Name has died :(</h4>
            <form action="/pets/action" method="post">
              <input type="hidden" name="petId" value="@pet.Id" />
              <input type="hidden" name="action" value="delete" />
              <button type="submit">Bury @pet.Name</button>
            </form>
          }
        </div>
      }
    </div>
    <form id="new-pet" action="/" method="get">
      <button type="submit">Head to the shop!</button>
    </form>
    }
  <script>
    setTimeout(function () {
      window.location.reload();
    }, 10000);
  </script>
</body>

</html>