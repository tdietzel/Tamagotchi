<!DOCTYPE html>
<html>

<head>
  <title>Your Tamagotchi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <meta charset='utf-8'>
  <link rel="stylesheet" type="text/css" href="~/css/petsIndex.css" />
</head>
<body>
  @using Tamagotchis.Models

    @if (Model.Count == 0)
    {
      <p id="no-pets">There are no pets to display. Please create a pet!</p>
      <a href="/">Make a new pet!</a>
    }
    else
    {
    <div class="container">
      @foreach (Pet pet in Model)
      {
        <div class="pet">
          <h1>@pet.Name</h1>
          @if (pet.Alive == true)
          {
            <p>Fullness: @pet.Fullness</p>
            <p>Energy: @pet.Energy</p>
            <p>Attention: @pet.Attention</p>
            <a href="pets/@pet.Id">View Pet Details</a>
            <form action="/pets/action" method="post">
              <input type="hidden" name="petId" value="@pet.Id" />
              <input type="hidden" name="action" value="delete" />
              <button id="abandon" type="submit">Abandon Pet</button>
            </form>
          }
          else
          {
            <h4>@pet.Name has died :(</h4>
            <form action="/pets/action" method="post">
              <input type="hidden" name="petId" value="@pet.Id" />
              <input type="hidden" name="action" value="delete" />
              <button type="submit">Bury @pet.Name</button>
            </form>
          }
        </div>
      }
    </div>
    <a href="/">Make a new pet!</a>
    }
  <script>
    setTimeout(function () {
      window.location.reload();
    }, 10000);
  </script>
</body>

</html>