<!DOCTYPE html>
<html>

<head>
  <title>Your Tamagotchi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <meta charset='utf-8'>
  <link rel="stylesheet" type="text/css" href="~/css/petsIndex.css" />
</head>
<body>
  @using Tamagotchis.Models

    @if (Model.Count == 0)
    {
      <b><p id="no-pets">There are no pets to display. Please create a pet!</p>
      <a href="/">Make a new pet!</a></b>
    }
    else
    {
    <div class="container">
      @foreach (Pet pet in Model)
      {
        <div class="pet">
          @if (pet.Alive == true)
          {
            <form action="/pets/action" method="post">
              <input type="hidden" name="petId" value="@pet.Id" />
              <input type="hidden" name="action" value="delete" />
              <button id="abandon" type="submit">Abandon Pet</button>
            </form>
            <h1>@pet.Name</h1>

            @if (pet.IsHatched == false)
            {
              <img src="~/img/egg.png" />
              <b><h3>Hatching...</h3></b>
            } else if (pet.IsSleeping == true)
            {
              <img src="~/img/sleep.png"/>
              <b><p>sleeping... zZz</p></b>
              @* HEALTH OR FOOD LEVEL *@

              @if (pet.Fullness > 80)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                </div>
              }
              else if (pet.Fullness > 60)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else if (pet.Fullness > 40)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else if (pet.Fullness > 20)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else if (pet.Fullness > 1)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }

              <form action="pets/@pet.Id" method="get">
                <button type="submit">View Pet Details</button>
              </form>
            } else if (pet.IsPlaying == true)
            {
              <img src="~/img/playing.png"/>
              <b><p>playing!</p></b>
              <form action="pets/@pet.Id" method="get">
                <button type="submit">View Pet Details</button>
              </form>
            } else if (pet.IsFeeding == true)
            {
              <img src="~/img/food.png"/>
              <b><p>@pet.Name is eating...</p></b>
              <form action="pets/@pet.Id" method="get">
                <button type="submit">View Pet Details</button>
              </form>
            } else
            {
              <img src="~/img/dog.png"/>

              @* HEALTH OR FOOD LEVEL *@

              @if (pet.Fullness > 80)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                </div>
              }
              else if (pet.Fullness > 60)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else if (pet.Fullness > 40)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else if (pet.Fullness > 20)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else if (pet.Fullness > 1)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/hearts.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }
              else
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                  <img id="heart" src="~/img/heart.png" />
                </div>
              }

              @* ENERGY LEVEL *@

              @if (pet.Energy > 80)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                </div>
              }
              else if (pet.Energy > 60)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                </div>
              }
              else if (pet.Energy > 40)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                </div>
              }
              else if (pet.Energy > 20)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                </div>
              }
              else if (pet.Energy > 1)
              {
                <div class="health-hearts">
                  <img id="heart" src="~/img/lightning-bolt.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                </div>
              }
              else
              {
                <div class="health-hearts" id="drained-energy">
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                  <img id="heart" src="~/img/lightning-bolt-black.png" />
                </div>
              }
              
              @* HAPPINESS OR ATTENTION *@
              @if (pet.Attention > 70)
              {
                <div class="health-hearts">
                  <img id="happiness" src="~/img/happy-face.png" />
                </div>
              }
              else if (pet.Attention > 40)
              {
                <div class="health-hearts">
                  <img id="happiness" src="~/img/neutral-face.png" />
                </div>
              }
              else
              {
                <div class="health-hearts">
                  <img id="happiness" src="~/img/sad-face.png" />
                </div>
              }

              <form action="pets/@pet.Id" method="get">
                <button id="pet-details-button" type="submit">View Pet Details</button>
              </form>
            }
          }
          else
          {
            <h1>@pet.Name</h1>
            <img src="~/img/deadDog.png"/>
            <h4>@pet.Name has died :(</h4>
            <form action="/pets/action" method="post">
              <input type="hidden" name="petId" value="@pet.Id" />
              <input type="hidden" name="action" value="delete" />
              <button type="submit">Bury @pet.Name</button>
            </form>
          }
        </div>
      }
    </div>
    <form id="new-pet" action="/shop" method="get">
      <button id="shop-button" type="submit">Head to the shop!</button>
    </form>
    <div class="inventory-style">
      <h1 class="inventory-title">Inventory</h1>
      <div class="inventory">
        @foreach (var food in Pet._inventory)
        {
          <div class="inventory-item">
            <p>@food.Name</p>
            <p class="hp">@food.Fullness</p>
            <img class="excitement" src="~/img/hearts.png" />
          </div>
        }
        @foreach (var toy in Pet._inventoryToy)
        {
          <div class="inventory-item">
            <p>@toy.Name</p>
            <p class="energy">@toy.Excitement</p>
            <img class="fullness" src="~/img/lightning-bolt.png" />
          </div>
        }
      </div>
    </div>
  }
  <script>
    setTimeout(function () {
      window.location.reload();
    }, 10000);
  </script>
</body>

</html>